function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,e)})(e)}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){var n=function(e,t){"use strict";var n,r;if(function(){var t,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in r=e.lazySizesConfig||e.lazysizesConfig||{},n)t in r||(r[t]=n[t])}(),!t||!t.getElementsByClassName)return{init:function(){},cfg:r,noSupport:!0};var i=t.documentElement,a=e.Date,o=e.HTMLPictureElement,s="addEventListener",l="getAttribute",u=e[s],c=e.setTimeout,d=e.requestAnimationFrame||c,f=e.requestIdleCallback,p=/^picture$/i,y=["load","error","lazyincluded","_lazyloaded"],m={},g=Array.prototype.forEach,v=function(e,t){return m[t]||(m[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),m[t].test(e[l]("class")||"")&&m[t]},h=function(e,t){v(e,t)||e.setAttribute("class",(e[l]("class")||"").trim()+" "+t)},b=function(e,t){var n;(n=v(e,t))&&e.setAttribute("class",(e[l]("class")||"").replace(n," "))},z=function e(t,n,r){var i=r?s:"removeEventListener";r&&e(t,n),y.forEach((function(e){t[i](e,n)}))},_=function(e,r,i,a,o){var s=t.createEvent("Event");return i||(i={}),i.instance=n,s.initEvent(r,!a,!o),s.detail=i,e.dispatchEvent(s),s},C=function(t,n){var i;!o&&(i=e.picturefill||r.pf)?(n&&n.src&&!t[l]("srcset")&&t.setAttribute("srcset",n.src),i({reevaluate:!0,elements:[t]})):n&&n.src&&(t.src=n.src)},A=function(e,t){return(getComputedStyle(e,null)||{})[t]},E=function(e,t,n){for(n=n||e.offsetWidth;n<r.minSize&&t&&!e._lazysizesWidth;)n=t.offsetWidth,t=t.parentNode;return n},w=function(){var e,n,r=[],i=[],a=r,o=function(){var t=a;for(a=r.length?i:r,e=!0,n=!1;t.length;)t.shift()();e=!1},s=function(r,i){e&&!i?r.apply(this,arguments):(a.push(r),n||(n=!0,(t.hidden?c:d)(o)))};return s._lsFlush=o,s}(),P=function(e,t){return t?function(){w(e)}:function(){var t=this,n=arguments;w((function(){e.apply(t,n)}))}},S=function(e){var t,n=0,i=r.throttleDelay,o=r.ricTimeout,s=function(){t=!1,n=a.now(),e()},l=f&&o>49?function(){f(s,{timeout:o}),o!==r.ricTimeout&&(o=r.ricTimeout)}:P((function(){c(s)}),!0);return function(e){var r;(e=!0===e)&&(o=33),t||(t=!0,(r=i-(a.now()-n))<0&&(r=0),e||r<9?l():c(l,r))}},L=function(e){var t,n,r=99,i=function(){t=null,e()},o=function e(){var t=a.now()-n;t<r?c(e,r-t):(f||i)(i)};return function(){n=a.now(),t||(t=c(o,r))}},O=function(){var o,f,y,m,E,O,k,x,R,M,T,F,W=/^img$/i,I=/^iframe$/i,j="onscroll"in e&&!/(gle|ing)bot/.test(navigator.userAgent),B=0,q=0,H=0,U=-1,$=function(e){H--,(!e||H<0||!e.target)&&(H=0)},D=function(e){return null==F&&(F="hidden"==A(t.body,"visibility")),F||!("hidden"==A(e.parentNode,"visibility")&&"hidden"==A(e,"visibility"))},J=function(e,n){var r,a=e,o=D(e);for(x-=n,T+=n,R-=n,M+=n;o&&(a=a.offsetParent)&&a!=t.body&&a!=i;)(o=(A(a,"opacity")||1)>0)&&"visible"!=A(a,"overflow")&&(r=a.getBoundingClientRect(),o=M>r.left&&R<r.right&&T>r.top-1&&x<r.bottom+1);return o},V=function(){var e,a,s,u,c,d,p,y,g,v,h,b,z=n.elements;if((m=r.loadMode)&&H<8&&(e=z.length)){for(a=0,U++;a<e;a++)if(z[a]&&!z[a]._lazyRace)if(!j||n.prematureUnveil&&n.prematureUnveil(z[a]))te(z[a]);else if((y=z[a][l]("data-expand"))&&(d=1*y)||(d=q),v||(v=!r.expand||r.expand<1?i.clientHeight>500&&i.clientWidth>500?500:370:r.expand,n._defEx=v,h=v*r.expFactor,b=r.hFac,F=null,q<h&&H<1&&U>2&&m>2&&!t.hidden?(q=h,U=0):q=m>1&&U>1&&H<6?v:B),g!==d&&(O=innerWidth+d*b,k=innerHeight+d,p=-1*d,g=d),s=z[a].getBoundingClientRect(),(T=s.bottom)>=p&&(x=s.top)<=k&&(M=s.right)>=p*b&&(R=s.left)<=O&&(T||M||R||x)&&(r.loadHidden||D(z[a]))&&(f&&H<3&&!y&&(m<3||U<4)||J(z[a],d))){if(te(z[a]),c=!0,H>9)break}else!c&&f&&!u&&H<4&&U<4&&m>2&&(o[0]||r.preloadAfterLoad)&&(o[0]||!y&&(T||M||R||x||"auto"!=z[a][l](r.sizesAttr)))&&(u=o[0]||z[a]);u&&!c&&te(u)}},Y=S(V),G=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:($(e),h(t,r.loadedClass),b(t,r.loadingClass),z(t,Q),_(t,"lazyloaded"))},K=P(G),Q=function(e){K({target:e.target})},X=function(e,t){try{e.contentWindow.location.replace(t)}catch(n){e.src=t}},Z=function(e){var t,n=e[l](r.srcsetAttr);(t=r.customMedia[e[l]("data-media")||e[l]("media")])&&e.setAttribute("media",t),n&&e.setAttribute("srcset",n)},ee=P((function(e,t,n,i,a){var o,s,u,d,f,m;(f=_(e,"lazybeforeunveil",t)).defaultPrevented||(i&&(n?h(e,r.autosizesClass):e.setAttribute("sizes",i)),s=e[l](r.srcsetAttr),o=e[l](r.srcAttr),a&&(d=(u=e.parentNode)&&p.test(u.nodeName||"")),m=t.firesLoad||"src"in e&&(s||o||d),f={target:e},h(e,r.loadingClass),m&&(clearTimeout(y),y=c($,2500),z(e,Q,!0)),d&&g.call(u.getElementsByTagName("source"),Z),s?e.setAttribute("srcset",s):o&&!d&&(I.test(e.nodeName)?X(e,o):e.src=o),a&&(s||d)&&C(e,{src:o})),e._lazyRace&&delete e._lazyRace,b(e,r.lazyClass),w((function(){var t=e.complete&&e.naturalWidth>1;m&&!t||(t&&h(e,"ls-is-cached"),G(f),e._lazyCache=!0,c((function(){"_lazyCache"in e&&delete e._lazyCache}),9)),"lazy"==e.loading&&H--}),!0)})),te=function(e){if(!e._lazyRace){var t,n=W.test(e.nodeName),i=n&&(e[l](r.sizesAttr)||e[l]("sizes")),a="auto"==i;(!a&&f||!n||!e[l]("src")&&!e.srcset||e.complete||v(e,r.errorClass)||!v(e,r.lazyClass))&&(t=_(e,"lazyunveilread").detail,a&&N.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,H++,ee(e,t,a,i,n))}},ne=L((function(){r.loadMode=3,Y()})),re=function(){3==r.loadMode&&(r.loadMode=2),ne()},ie=function e(){if(!f){if(a.now()-E<999)return void c(e,999);f=!0,r.loadMode=3,Y(),u("scroll",re,!0)}};return{_:function(){E=a.now(),n.elements=t.getElementsByClassName(r.lazyClass),o=t.getElementsByClassName(r.lazyClass+" "+r.preloadClass),u("scroll",Y,!0),u("resize",Y,!0),u("pageshow",(function(e){if(e.persisted){var n=t.querySelectorAll("."+r.loadingClass);n.length&&n.forEach&&d((function(){n.forEach((function(e){e.complete&&te(e)}))}))}})),e.MutationObserver?new MutationObserver(Y).observe(i,{childList:!0,subtree:!0,attributes:!0}):(i[s]("DOMNodeInserted",Y,!0),i[s]("DOMAttrModified",Y,!0),setInterval(Y,999)),u("hashchange",Y,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(e){t[s](e,Y,!0)})),/d$|^c/.test(t.readyState)?ie():(u("load",ie),t[s]("DOMContentLoaded",Y),c(ie,2e4)),n.elements.length?(V(),w._lsFlush()):Y()},checkElems:Y,unveil:te,_aLSL:re}}(),N=function(){var e,n=P((function(e,t,n,r){var i,a,o;if(e._lazysizesWidth=r,r+="px",e.setAttribute("sizes",r),p.test(t.nodeName||""))for(a=0,o=(i=t.getElementsByTagName("source")).length;a<o;a++)i[a].setAttribute("sizes",r);n.detail.dataAttr||C(e,n.detail)})),i=function(e,t,r){var i,a=e.parentNode;a&&(r=E(e,a,r),i=_(e,"lazybeforesizes",{width:r,dataAttr:!!t}),i.defaultPrevented||(r=i.detail.width)&&r!==e._lazysizesWidth&&n(e,a,i,r))},a=L((function(){var t,n=e.length;if(n)for(t=0;t<n;t++)i(e[t])}));return{_:function(){e=t.getElementsByClassName(r.autosizesClass),u("resize",a)},checkElems:a,updateElem:i}}(),k=function e(){!e.i&&t.getElementsByClassName&&(e.i=!0,N._(),O._())};return c((function(){r.init&&k()})),n={cfg:r,autoSizer:N,loader:O,init:k,uP:C,aC:h,rC:b,hC:v,fire:_,gW:E,rAF:w}}(e,e.document);e.lazySizes=n,"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=n)}("undefined"!=typeof window?window:{}),function(e,t){var n=function n(){t(e.lazySizes),e.removeEventListener("lazyunveilread",n,!0)};t=t.bind(null,e,e.document),"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?t(require("lazysizes")):e.lazySizes?n():e.addEventListener("lazyunveilread",n,!0)}(window,(function(e,t,n){"use strict";if(e.addEventListener){var r=n.cfg,i=/\s+/g,a=/\s*\|\s+|\s+\|\s*/g,o=/^(.+?)(?:\s+\[\s*(.+?)\s*\])(?:\s+\[\s*(.+?)\s*\])?$/,s=/^\s*\(*\s*type\s*:\s*(.+?)\s*\)*\s*$/,l=/\(|\)|'/,u={contain:1,cover:1},c=function(e,t){if(t){var n=t.match(s);n&&n[1]?e.setAttribute("type",n[1]):e.setAttribute("media",r.customMedia[t]||t)}},d=function(e,n,s){var l=t.createElement("picture"),u=n.getAttribute(r.sizesAttr),d=n.getAttribute("data-ratio"),f=n.getAttribute("data-optimumx");n._lazybgset&&n._lazybgset.parentNode==n&&n.removeChild(n._lazybgset),Object.defineProperty(s,"_lazybgset",{value:n,writable:!0}),Object.defineProperty(n,"_lazybgset",{value:l,writable:!0}),e=e.replace(i," ").split(a),l.style.display="none",s.className=r.lazyClass,1!=e.length||u||(u="auto"),e.forEach((function(e){var n,i=t.createElement("source");u&&"auto"!=u&&i.setAttribute("sizes",u),(n=e.match(o))?(i.setAttribute(r.srcsetAttr,n[1]),c(i,n[2]),c(i,n[3])):i.setAttribute(r.srcsetAttr,e),l.appendChild(i)})),u&&(s.setAttribute(r.sizesAttr,u),n.removeAttribute(r.sizesAttr),n.removeAttribute("sizes")),f&&s.setAttribute("data-optimumx",f),d&&s.setAttribute("data-ratio",d),l.appendChild(s),n.appendChild(l)},f=function(e){if(e.target._lazybgset){var t=e.target,r=t._lazybgset,i=t.currentSrc||t.src;if(i){var a=n.fire(r,"bgsetproxy",{src:i,useSrc:l.test(i)?JSON.stringify(i):i});a.defaultPrevented||(r.style.backgroundImage="url("+a.detail.useSrc+")")}t._lazybgsetLoading&&(n.fire(r,"_lazyloaded",{},!1,!0),delete t._lazybgsetLoading)}};addEventListener("lazybeforeunveil",(function(e){var r,i,a;!e.defaultPrevented&&(r=e.target.getAttribute("data-bgset"))&&(a=e.target,(i=t.createElement("img")).alt="",i._lazybgsetLoading=!0,e.detail.firesLoad=!0,d(r,a,i),setTimeout((function(){n.loader.unveil(i),n.rAF((function(){n.fire(i,"_lazyloaded",{},!0,!0),i.complete&&f({target:i})}))})))})),t.addEventListener("load",f,!0),e.addEventListener("lazybeforesizes",(function(e){if(e.detail.instance==n&&e.target._lazybgset&&e.detail.dataAttr){var t=function(e){var t;return t=(getComputedStyle(e)||{getPropertyValue:function(){}}).getPropertyValue("background-size"),!u[t]&&u[e.style.backgroundSize]&&(t=e.style.backgroundSize),t}(e.target._lazybgset);u[t]&&(e.target._lazysizesParentFit=t,n.rAF((function(){e.target.setAttribute("data-parent-fit",t),e.target._lazysizesParentFit&&delete e.target._lazysizesParentFit})))}}),!0),t.documentElement.addEventListener("lazybeforesizes",(function(e){!e.defaultPrevented&&e.target._lazybgset&&e.detail.instance==n&&(e.detail.width=function(e){var t=n.gW(e,e.parentNode);return(!e._lazysizesWidth||t>e._lazysizesWidth)&&(e._lazysizesWidth=t),e._lazysizesWidth}(e.target._lazybgset))}))}})),function(e,t){var n=function n(){t(e.lazySizes),e.removeEventListener("lazyunveilread",n,!0)};t=t.bind(null,e,e.document),"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?t(require("lazysizes")):e.lazySizes?n():e.addEventListener("lazyunveilread",n,!0)}(window,(function(e,t,n){"use strict";function r(e,n){if(!o[e]){var r=t.createElement(n?"link":"script"),i=t.getElementsByTagName("script")[0];n?(r.rel="stylesheet",r.href=e):r.src=e,o[e]=!0,o[r.src||r.href]=!0,i.parentNode.insertBefore(r,i)}}var i,a,o={};t.addEventListener&&(a=/\(|\)|\s|'/,i=function(e,n){var r=t.createElement("img");r.onload=function(){r.onload=null,r.onerror=null,r=null,n()},r.onerror=r.onload,r.src=e,r&&r.complete&&r.onload&&r.onload()},addEventListener("lazybeforeunveil",(function(e){var t,o,s;if(e.detail.instance==n&&!e.defaultPrevented){var l=e.target;if("none"==l.preload&&(l.preload="auto"),null!=l.getAttribute("data-autoplay"))if(l.getAttribute("data-expand")&&!l.autoplay)try{l.play()}catch(e){}else requestAnimationFrame((function(){l.setAttribute("data-expand","-10"),n.aC(l,n.cfg.lazyClass)}));(t=l.getAttribute("data-link"))&&r(t,!0),(t=l.getAttribute("data-script"))&&r(t),(t=l.getAttribute("data-require"))&&(n.cfg.requireJs?n.cfg.requireJs([t]):r(t)),(o=l.getAttribute("data-bg"))&&(e.detail.firesLoad=!0,i(o,(function(){l.style.backgroundImage="url("+(a.test(o)?JSON.stringify(o):o)+")",e.detail.firesLoad=!1,n.fire(l,"_lazyloaded",{},!0,!0)}))),(s=l.getAttribute("data-poster"))&&(e.detail.firesLoad=!0,i(s,(function(){l.poster=s,e.detail.firesLoad=!1,n.fire(l,"_lazyloaded",{},!0,!0)})))}}),!1))}));var LiteYTEmbed=function(e){_inherits(n,_wrapNativeSuper(HTMLElement));var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"connectedCallback",value:function(){var e=this;this.videoId=this.getAttribute("videoid"),this.style.backgroundImage||(this.posterUrl="https://i.ytimg.com/vi/".concat(this.videoId,"/hqdefault.jpg"),n.addPrefetch("preload",this.posterUrl,"image"),this.style.backgroundImage='url("'.concat(this.posterUrl,'")')),this.addEventListener("pointerover",n.warmConnections,{once:!0}),this.addEventListener("click",(function(t){return e.addIframe()}))}},{key:"addIframe",value:function(){var e=new URLSearchParams(this.getAttribute("params")||[]);e.append("autoplay","1");var t=document.createElement("iframe");t.width="100%",t.height="100%",t.title=this.playLabel,t.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",t.allowFullscreen=!0,t.src="https://www.youtube-nocookie.com/embed/".concat(encodeURIComponent(this.videoId),"?").concat(e.toString()),this.innerHTML="",this.append(t),this.classList.add("lyt-activated"),this.querySelector("iframe").focus()}}],[{key:"addPrefetch",value:function(e,t,n){var r=document.createElement("link");r.rel=e,r.href=t,n&&(r.as=n),document.head.append(r)}},{key:"warmConnections",value:function(){n.preconnected||(n.addPrefetch("preconnect","https://www.google.com"),n.preconnected=!0)}}]),n}();customElements.define("lite-youtube",LiteYTEmbed);
